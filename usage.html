


  



  


<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.1/css/academicons.min.css" integrity="sha512-b1ASx0WHgVFL5ZQhTgiPWX+68KjS38Jk87jg7pe+qC7q9YkEtFq0z7xCglv7qGIs/68d3mAp+StfC8WKC5SSAg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="shortcut icon" href="_static/mdanalysis-logo.ico">
</head>

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Usage &mdash; mdahole2  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/site.css" />

  
    <link rel="shortcut icon" href="_static/mdanalysis-logo.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/js/versions.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Documentation" href="api.html" />
    <link rel="prev" title="Getting Started" href="getting_started.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >




  




<a href="index.html">
  
    <img src="_static/mdanalysis-logo-thin.png" class="logo" alt="Logo"/>
</a>


  
  
  



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div>
<div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
        <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#finding-your-hole-executable">Finding your hole executable</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-hole-on-a-pdb-file">Using HOLE on a PDB file</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-hole-on-a-trajectory">Using HOLE on a trajectory</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-hole-with-vmd">Using HOLE with VMD</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#analyzing-a-full-trajectory">Analyzing a full trajectory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-subsampled-hole-surface">Creating subsampled HOLE surface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#loading-a-trajectory-into-vmd-with-subsampling">Loading a trajectory into VMD with subsampling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-subsampled-trajectory">Creating a subsampled trajectory</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
</ul>

</div>

      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">mdahole2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Usage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Link to this heading"></a></h1>
<p>This toolkit contains the tools to interface with <a class="reference external" href="http://www.holeprogram.org">HOLE</a>
<span id="id1">[<a class="reference internal" href="references.html#id2" title="O.S. Smart, J.M. Goodfellow, and B.A. Wallace. The pore dimensions of gramicidin a. Biophysical Journal, 65(6):2455-2460, 1993. doi:https://doi.org/10.1016/S0006-3495(93)81293-1.">SGW93</a>, <a class="reference internal" href="references.html#id3" title="Oliver S. Smart, Joseph G. Neduvelil, Xiaonan Wang, B.A. Wallace, and Mark S.P. Sansom. Hole: a program for the analysis of the pore dimensions of ion channel structural models. Journal of Molecular Graphics, 14(6):354-360, 1996. doi:https://doi.org/10.1016/S0263-7855(97)00009-X.">SNW+96</a>]</span> to analyse an ion channel pore or transporter
pathway <span id="id2">[<a class="reference internal" href="references.html#id4" title="Lukas S. Stelzl, Philip W. Fowler, Mark S.P. Sansom, and Oliver Beckstein. Flexible gates generate occluded intermediates in the transport cycle of lacy. Journal of Molecular Biology, 426(3):735-751, 2014. doi:https://doi.org/10.1016/j.jmb.2013.10.024.">SFSB14</a>]</span>.</p>
<section id="finding-your-hole-executable">
<h2>Finding your hole executable<a class="headerlink" href="#finding-your-hole-executable" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">mdahole2</span></code> is a Python package that interfaces with the <a class="reference external" href="http://www.holeprogram.org">HOLE</a> program.
This necessitates having a HOLE executable on your system.
<code class="docutils literal notranslate"><span class="pre">mdahole2</span></code> will be able to automatically find your executable if it is in your <code class="docutils literal notranslate"><span class="pre">PATH</span></code>,
i.e. if it can be discovered by calling <code class="docutils literal notranslate"><span class="pre">which</span> <span class="pre">hole</span></code>.
This should be the case for the vast majority of installations
through the recommended pathway of <code class="docutils literal notranslate"><span class="pre">conda-forge</span></code>.</p>
<p>However, if you have installed <a class="reference external" href="http://www.holeprogram.org">HOLE</a> through a nonstandard pathway,
then you will need to specify a path to your <code class="docutils literal notranslate"><span class="pre">hole</span></code> executable like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">MDAnalysis.tests.datafiles</span> <span class="kn">import</span> <span class="n">PDB_HOLE</span>
<span class="kn">from</span> <span class="nn">mdahole2.analysis</span> <span class="kn">import</span> <span class="n">hole</span>

<span class="n">profiles</span> <span class="o">=</span> <span class="n">hole</span><span class="p">(</span><span class="n">PDB_HOLE</span><span class="p">,</span> <span class="n">executable</span><span class="o">=</span><span class="s1">&#39;/path/to/hole&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>For example, if you installed HOLE from the original source, the executable
may be in your home directory, e.g. a path such as <code class="docutils literal notranslate"><span class="pre">~/hole2/exe/hole</span></code>.</p>
<p>Throughout the rest of this documentation, we will assume that your executable
is in your <code class="docutils literal notranslate"><span class="pre">PATH</span></code>, and will not specify a different path.</p>
</section>
<section id="using-hole-on-a-pdb-file">
<h2>Using HOLE on a PDB file<a class="headerlink" href="#using-hole-on-a-pdb-file" title="Link to this heading"></a></h2>
<p>Use the <code class="docutils literal notranslate"><span class="pre">hole</span></code> function to run <a class="reference external" href="http://www.holeprogram.org">HOLE</a> on a single PDB file. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">MDAnalysis.tests.datafiles</span> <span class="kn">import</span> <span class="n">PDB_HOLE</span>
<span class="kn">from</span> <span class="nn">mdahole2.analysis</span> <span class="kn">import</span> <span class="n">hole</span>

<span class="n">profiles</span> <span class="o">=</span> <span class="n">hole</span><span class="p">(</span><span class="n">PDB_HOLE</span><span class="p">)</span>
<span class="c1"># to create a VMD surface of the pore</span>
<span class="n">hole2</span><span class="o">.</span><span class="n">create_vmd_surface</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;hole.vmd&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">profiles</span></code> is a dictionary of HOLE profiles, indexed by the frame number. If
only a PDB file is passed to the function, there will only be one profile at
frame 0. You can visualise the pore by loading your PDB file into VMD, and in
<span class="menuselection">Extensions ‣ Tk Console</span>, type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="n">hole</span><span class="o">.</span><span class="n">vmd</span>
</pre></div>
</div>
<p>You can also pass a DCD trajectory with the same atoms in the same order as
your PDB file with the <code class="docutils literal notranslate"><span class="pre">dcd</span></code> keyword argument. In that case, <code class="docutils literal notranslate"><span class="pre">profiles</span></code>
will contain multiple HOLE profiles, indexed by frame.</p>
<p>The HOLE program will create some output files:</p>
<blockquote>
<div><ul class="simple">
<li><p>an output file (default name: hole.out)</p></li>
<li><p>an sphpdb file (default name: hole.sph)</p></li>
<li><p>a file of van der Waals’ radii
(if not specified with <code class="docutils literal notranslate"><span class="pre">vdwradii_file</span></code>. Default name: simple2.rad)</p></li>
<li><p>a symlink of your PDB or DCD files (if the original name is too long)</p></li>
<li><p>the input text (if you specify <code class="docutils literal notranslate"><span class="pre">infile</span></code>)</p></li>
</ul>
</div></blockquote>
<p>By default (<cite>keep_files=True</cite>), these files are kept. If you would like to
delete the files after the function is wrong, set <cite>keep_files=False</cite>. Keep in
mind that if you delete the sphpdb file, you cannot then create a VMD surface.</p>
</section>
<section id="using-hole-on-a-trajectory">
<h2>Using HOLE on a trajectory<a class="headerlink" href="#using-hole-on-a-trajectory" title="Link to this heading"></a></h2>
<p>You can also run HOLE on a trajectory through the <code class="xref py py-class docutils literal notranslate"><span class="pre">HoleAnalysis</span></code>
class. This behaves similarly to the <code class="docutils literal notranslate"><span class="pre">hole</span></code> function, although
arguments such as <code class="docutils literal notranslate"><span class="pre">cpoint</span></code> and <code class="docutils literal notranslate"><span class="pre">cvect</span></code> become runtime arguments for
the <code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code> function.</p>
<p>The class can be set-up and run like a normal MDAnalysis analysis class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">MDAnalysis</span> <span class="k">as</span> <span class="nn">mda</span>
<span class="kn">from</span> <span class="nn">MDAnalysis.tests.datafiles</span> <span class="kn">import</span> <span class="n">MULTIPDB_HOLE</span>
<span class="kn">from</span> <span class="nn">mdahole2.analysis</span> <span class="kn">import</span> <span class="n">HoleAnalysis</span>

<span class="n">u</span> <span class="o">=</span> <span class="n">mda</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">MULTIPDB_HOLE</span><span class="p">)</span>

<span class="n">ha</span> <span class="o">=</span> <span class="n">HoleAnalysis</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
<span class="n">ha</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="n">ha</span><span class="o">.</span><span class="n">create_vmd_surface</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;hole.vmd&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The VMD surface created by the class updates the pore for each frame of the
trajectory. Use it as normal by loading your trajectory in VMD and sourcing the
file in the Tk Console.</p>
<p>You can access the actual profiles generated in the <code class="docutils literal notranslate"><span class="pre">results</span></code> attribute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">ha</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">profiles</span><span class="p">)</span>
</pre></div>
</div>
<p>Again, HOLE writes out files for each frame. If you would
like to delete these files after the analysis, you can
call <code class="xref py py-meth docutils literal notranslate"><span class="pre">delete_temporary_files()</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ha</span><span class="o">.</span><span class="n">delete_temporary_files</span><span class="p">()</span>
</pre></div>
</div>
<p>Alternatively, you can use HoleAnalysis as a context manager that deletes
temporary files when you are finished with the context manager:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">HoleAnalysis</span><span class="p">(</span><span class="n">u</span><span class="p">)</span> <span class="k">as</span> <span class="n">h2</span><span class="p">:</span>
    <span class="n">h2</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
    <span class="n">h2</span><span class="o">.</span><span class="n">create_vmd_surface</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="using-hole-with-vmd">
<h2>Using HOLE with VMD<a class="headerlink" href="#using-hole-with-vmd" title="Link to this heading"></a></h2>
<p>The <strong class="program">sos_triangle</strong> program that is part of <a class="reference external" href="http://www.holeprogram.org">HOLE</a> can write an input
file for <a class="reference external" href="https://www.ks.uiuc.edu/Research/vmd/">VMD</a> to display a triangulated surface of the pore found by
<strong class="program">hole</strong>. This functionality is available with the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">HoleAnalysis.create_vmd_surface()</span></code> method
<a class="footnote-reference brackets" href="#create-vmd-surface-function" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>. For an input trajectory MDAnalysis writes a
<em>trajectory</em> of pore surfaces that can be animated in VMD together with the
frames from the trajectory.</p>
<section id="analyzing-a-full-trajectory">
<h3>Analyzing a full trajectory<a class="headerlink" href="#analyzing-a-full-trajectory" title="Link to this heading"></a></h3>
<p>To analyze a full trajectory and write pore surfaces for all frames to file
<code class="file docutils literal notranslate"><span class="pre">hole_surface.vmd</span></code>, use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">MDAnalysis</span> <span class="k">as</span> <span class="nn">mda</span>
<span class="kn">from</span> <span class="nn">mdahole2.analysis</span> <span class="kn">import</span> <span class="n">HoleAnalysis</span>

<span class="c1"># load example trajectory MULTIPDB_HOLE</span>
<span class="kn">from</span> <span class="nn">MDAnalysis.tests.datafiles</span> <span class="kn">import</span> <span class="n">MULTIPDB_HOLE</span>

<span class="n">u</span> <span class="o">=</span> <span class="n">mda</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">MULTIPDB_HOLE</span><span class="p">)</span>

<span class="k">with</span> <span class="n">HoleAnalysis</span><span class="p">(</span><span class="n">u</span><span class="p">)</span> <span class="k">as</span> <span class="n">h2</span><span class="p">:</span>
    <span class="n">h2</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
    <span class="n">h2</span><span class="o">.</span><span class="n">create_vmd_surface</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;hole_surface.vmd&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In VMD, load your trajectory and then in the tcl console
(e.g. <span class="menuselection">Extensions ‣ Tk Console</span>) load the surface
trajectory:</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span><span class="w"> </span>hole_surface.vmd
</pre></div>
</div>
<p>If you only want to <em>subsample the trajectory</em> and only show the surface at
specific frames then you can either load the trajectory with the same
subsampling into VMD or create a subsampled trajectory.</p>
</section>
<section id="creating-subsampled-hole-surface">
<h3>Creating subsampled HOLE surface<a class="headerlink" href="#creating-subsampled-hole-surface" title="Link to this heading"></a></h3>
<p>For example, if we want to start displaying at frame 1 (i.e., skip frame
0), stop at frame 7, and only show every other frame (step 2) then the HOLE
analysis will be</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">HoleAnalysis</span><span class="p">(</span><span class="n">u</span><span class="p">)</span> <span class="k">as</span> <span class="n">h2</span><span class="p">:</span>
    <span class="n">h2</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">h2</span><span class="o">.</span><span class="n">create_vmd_surface</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;hole_surface_subsampled.vmd&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The commands produce the file <code class="docutils literal notranslate"><span class="pre">hole_surface_subsampled.vmd</span></code> that can be
loaded into VMD.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Python (and MDAnalysis) stop indices are <em>exclusive</em> so the parameters
<code class="docutils literal notranslate"><span class="pre">start=1</span></code>, <code class="docutils literal notranslate"><span class="pre">stop=9</span></code>, and <code class="docutils literal notranslate"><span class="pre">step=2</span></code> will analyze frames 1, 3, 5, 7.</p>
</div>
</section>
<section id="loading-a-trajectory-into-vmd-with-subsampling">
<span id="id4"></span><h3>Loading a trajectory into VMD with subsampling<a class="headerlink" href="#loading-a-trajectory-into-vmd-with-subsampling" title="Link to this heading"></a></h3>
<p>Load your system into VMD. This can mean to load the topology file with
<span class="menuselection">File ‣ New Molecule</span> and adding the trajectory with
<span class="menuselection">File ‣ Load Data into Molecule</span> or just <span class="menuselection">File
‣ New Molecule</span>.</p>
<p>When loading the trajectory, subsample the frames by setting parametes in in
the <span class="guilabel">Frames</span> section. Select <em>First: 1</em>, <em>Last: 7</em>, <em>Stride: 2</em>. Then
<span class="guilabel">Load</span> everything.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>VMD considers the stop/last frame to be <em>inclusive</em> so you need to typically
choose one less than the <code class="docutils literal notranslate"><span class="pre">stop</span></code> value that you selected in MDAnalysis.</p>
</div>
<p>Then load the surface trajectory:</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span><span class="w"> </span>hole_surface_subsampled.vmd
</pre></div>
</div>
<p>You should see a different surface for each frame in the trajectory.
<a class="footnote-reference brackets" href="#vmd-extra-frame" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></p>
</section>
<section id="creating-a-subsampled-trajectory">
<h3>Creating a subsampled trajectory<a class="headerlink" href="#creating-a-subsampled-trajectory" title="Link to this heading"></a></h3>
<p>Instead of having VMD subsample the trajectory as described in
<a class="reference internal" href="#loading-a-trajectory-into-vmd-with-subsampling"><span class="std std-ref">Loading a trajectory into VMD with subsampling</span></a> we can write a subsampled
trajectory to a file. Although it requires more disk space, it can be
convenient if we want to visualize the system repeatedly.</p>
<p>The example trajectory comes as a multi-PDB file so we need a suitable topology
file. If you already have a topology file such as a PSF, TPR, or PRMTOP file
then skip this step. We write frame 0 as a PDB <code class="file docutils literal notranslate"><span class="pre">frame0.pdb</span></code> (which we
will use as the topology in VMD):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">u</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;frame0.pdb&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Then write the actual trajectory in a convenient format such as TRR (or
DCD). Note that we apply the same slicing (<code class="docutils literal notranslate"><span class="pre">start=1</span></code>, <code class="docutils literal notranslate"><span class="pre">stop=9</span></code>, <code class="docutils literal notranslate"><span class="pre">step=2</span></code>)
to the trajectory itself and then use it as the value for the <code class="docutils literal notranslate"><span class="pre">frames</span></code>
parameter of <a class="reference external" href="https://docs.mdanalysis.org/stable/documentation_pages/core/groups.html#MDAnalysis.core.groups.AtomGroup.write" title="(in MDAnalysis v2.7.0)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AtomGroup.write</span></code></a>
method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">u</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;subsampled.trr&quot;</span><span class="p">,</span> <span class="n">frames</span><span class="o">=</span><span class="n">u</span><span class="o">.</span><span class="n">trajectory</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">9</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<p>This command creates the subsampled trajectory file <code class="file docutils literal notranslate"><span class="pre">subsampled.trr</span></code> in
TRR format.</p>
<p>In VMD we load the topology and the trajectory and then load the surface. In
our example we have a PDB file (<code class="file docutils literal notranslate"><span class="pre">frame0.pdb</span></code>) as topology so we need to
remove the first frame <a class="footnote-reference brackets" href="#vmd-extra-frame" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> (skip the “trim” step below if you
are using a true topology file such as PSF, TPR, or PRMTOP). To keep this
example compact, we are using the tcl command line interface in <a class="reference external" href="https://www.ks.uiuc.edu/Research/vmd/">VMD</a>
(<span class="menuselection">Extensions ‣ Tk Console</span>) for loading and trimming the
trajectory; you can use the menu commands if you prefer.</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="c"># load topology and subsampled trajectory</span>
<span class="nv">mol</span><span class="w"> </span>load<span class="w"> </span>pdb<span class="w"> </span>frame0.pdb<span class="w"> </span>trr<span class="w"> </span>subsampled.trr

<span class="c"># trim first frame (frame0) -- SKIP if using PSF, TPR, PRMTOP</span>
<span class="nv">animate</span><span class="w"> </span>delete<span class="w"> </span>beg<span class="w"> </span><span class="mi">0</span><span class="w"> </span>end<span class="w"> </span><span class="mi">0</span>

<span class="c"># load the HOLE surface trajectory</span>
<span class="nb">source</span><span class="w"> </span>hole_surface_subsampled.vmd
</pre></div>
</div>
<p>You can now animate your molecule together with the surface and render it.</p>
<p class="rubric">References</p>
<p class="rubric">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="create-vmd-surface-function" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">1</a><span class="fn-bracket">]</span></span>
<p>If you use the <code class="xref py py-class docutils literal notranslate"><span class="pre">hole</span></code> class to run
<strong class="program">hole</strong> on a single PDB file then you can use
<a class="reference internal" href="api.html#mdahole2.analysis.utils.create_vmd_surface" title="mdahole2.analysis.utils.create_vmd_surface"><code class="xref py py-func docutils literal notranslate"><span class="pre">mdahole2.analysis.utils.create_vmd_surface()</span></code></a>
function to manually run <strong class="program">sph_process</strong> and
<strong class="program">sos_triangle</strong> on the output files andcr eate a surface
file.</p>
</aside>
<aside class="footnote brackets" id="vmd-extra-frame" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id5">1</a>,<a role="doc-backlink" href="#id6">2</a>)</span>
<p>If you loaded your system in <a class="reference external" href="https://www.ks.uiuc.edu/Research/vmd/">VMD</a> from separate topology
and trajectory files and the topology file contained coordinates
(such as a PDB or GRO) file then your trajectory will have an
extra initial frame containing the coordinates from your topology
file. Delete the initial frame with <span class="menuselection">Molecule ‣
Delete Frames</span> by setting <em>First</em> to 0 and <em>Last</em> to 0 and
selecting <span class="guilabel">Delete</span>.</p>
</aside>
</aside>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="getting_started.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api.html" class="btn btn-neutral float-right" title="API Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Ian Kenney. Project structure based on the MDAnalysis Cookiecutter version 0.1.</p>
  </div>

  

<div class="footer"><p>Please see
    our <a href="https://www.mdanalysis.org/pages/privacy/">Privacy Policy</a>
    to learn how <a href="https://www.mdanalysis.org">MDAnalysis</a> collects data.</p>
    <script data-goatcounter="https://mdanalysis.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>
</div>



</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
    var versions_json_url = ''
</script>

<div class="rst-versions" data-toggle="rst-versions" role="note"
     aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"></span>
        
      <span class="fa fa-caret-down"></span>
    </span>

    <div class="rst-other-versions">
        <dl id="versionselector">
            <dt>Other Versions</dt>
        </dl>

    </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>